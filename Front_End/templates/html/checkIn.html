<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CAT THINGS</title>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="templates/css/checkIn.css" />
  </head>

  <body>
    <!-- Navigation Bar-->
    <nav class="navbar navbar-default" ng-controller="NavBarController">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">CAT</a>
          <button type="button" class="navbar-toggle" ng-click="isCollapsed = !isCollapsed">
              <span class="sr-only">Toggle navigation</span>
      				<span class="icon-bar"></span>
      				<span class="icon-bar"></span>
      				<span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" uib-collapse="isCollapsed">
          <ul class="nav navbar-nav">
            <li><a ng-href="#home">Inventory</a></li>
            <li class="active"><a ng-href="#checkin">Check In</a></li>
            <li><a ng-href="#shoppinglist">Shopping List</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a class="navbar-right" ng-href="#login">Logout <i class="fa fa-sign-out"></i></a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Check-In Form-->
    <div class="container">
      <form role="form" class="request-form" ng-app "catthings_app" ng-controller="CheckInController">
        <div class="form-group required">
          <label class="control-label">Name:</label>
          <input type="text" ng-model="person.name" ng-change="checkPerson()" placeholder="Enter Name" class="form-control" required>
        </div>
        <div class="emptyName" ng-show="emptyNameError">
          <b>Name is required!</b>
        </div>
        <label for="itemName">Search:</label>
        <input type="text" ng-model="searchQuery" ng-change="searchTable()" placeholder="Search Inventory" class="form-control">
        <table datatable="ng" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstanceCallback" class="table table-bordered">
          <thead class="thead-inverse">
            <tr>
              <th><b>Check In</b></th>
              <th><b>Name</b></th>
              <th><b>Description</b></th>
              <th><b>Quantity</b></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in stuff | orderBy:'name'">
              <td><input type="checkbox" ng-model="item.checkin" ng-change="addToCheckin(item)"/></td>
              <td>{{ item.name }}</td>
              <td>{{ item.description }}</td>
              <td>{{ item.quantity }}</td>
            </tr>
          </tbody>
          </table>
        </form>
      </div>

      <br>
      <br>
      <br>

      <div class="container" ng-controller="CheckInController">
        <div class="notEmpty" ng-show="checkinNotEmpty">
          <table datatable="ng" class="table table-bordered" id="checkinTable">
            <thead class="thead-inverse">
              <tr>
                <th><b>Remove<b></th>
                  <th><b>Name</b></th>
                  <th><b>Description</b></th>
                  <th><b>Available</b></th>
                  <th><b>Checkin</b></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="selected in checkin | orderBy:'name'">
                  <td><input type="checkbox" ng-model="selected.uncheckin"/></td>
                <td>{{ selected.name }}</td>
                <td>{{ selected.description }}</td>
                <td>{{ selected.quantity }}</td>
                <td><input type="number" ng-model="selected.selectedQuantity" required/>
                  <div class="negativeQuantity" ng-show="selected.negativeQuantity">
                    <b>Quantity cannot be negative!</b>
                  </div>
                  <div class="zeroQuantity" ng-show="selected.zeroQuantity">
                    <b>Quantity cannot be 0!</b>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="btn-group">
            <button type="button" class="btn btn-danger" ng-click=removeSelected()>Remove</button>
            <button type="submit" class="btn btn-success" ng-disabled="checkCheckin()" ng-click=confirm()>Checkin</button>
          </div>
        </div>
        <div class="empty" ng-show="checkinEmpty">
          Nothing to be checked in!
        </div>
      </div>
  </body>
